var someCardsApp={cards:{deckSize:52,names:["ace","02","03","04","05","06","07","08","09","10","jack","queen","king"],suits:["hearts","diamonds","clubs","spades"],cardBackgroundPos:[]},deck:null,currentHand:null,params:{ver:someCardsAppParams.ver},htmlTargets:{items:someCardsAppTargets.items,status:someCardsAppTargets.status,reset:someCardsAppTargets.reset,noOfCardsIn:someCardsAppTargets.noOfCardsIn},htmlTemplates:{card:someCardsAppTemplates.card},status:"no data",sortBgImages:function(t){"use strict";for(var s=0,e=t.length,r=[],n=[],a=[],i=[],u=[],d=[];s<e;)"clubs"===(r=t[s][0].split("-"))[1]?n.push(t[s]):"spades"===r[1]?a.push(t[s]):"hearts"===r[1]?i.push(t[s]):u.push(t[s]),s+=1;for(n.sort(),a.sort(),i.sort(),u.sort(),n.unshift(n[9]),n.splice(10,1),n.push(n[11]),n.splice(11,1),a.unshift(a[9]),a.splice(10,1),a.push(a[11]),a.splice(11,1),i.unshift(i[9]),i.splice(10,1),i.push(i[11]),i.splice(11,1),u.unshift(u[9]),u.splice(10,1),u.push(u[11]),u.splice(11,1),s=0;s<n.length;)d.push(n[s]),s+=1;for(s=0;s<a.length;)d.push(a[s]),s+=1;for(s=0;s<i.length;)d.push(i[s]),s+=1;for(s=0;s<u.length;)d.push(u[s]),s+=1;return d},generateBgPosIDs:function(t){"use strict";for(var s=0,e=t.length,r=[];s<e;)r.push([t[s].id,""]),s+=1;return r=this.sortBgImages(r)},generateBgPos:function(t){"use strict";for(var s=0,e=t.cardBackgroundPos.length,r=-5,n=-5,a="%x%px %y%px",i=t.cardBackgroundPos;s<e;)a=(a=a.replace("%x%",r)).replace("%y%",n),i[s][1]=a,a="%x%px %y%px",(r-=142)<-1709&&(r=-5,n-=190),s+=1;return i},getRandomInt:function(t,s){"use strict";return Math.floor(Math.random()*(Math.floor(s)-Math.ceil(t)+1))+Math.ceil(t)},checkDupCard:function(t,s){"use strict";for(var e=t.length,r=0,n=!1;r<e;){if(t[r].id===s){n=!0;break}r+=1}return n},generateCard:function(t){"use strict";var s={name:null,suit:null,id:null},e=t.names.length-1,r=t.suits.length-1,n=this.getRandomInt(0,e),a=this.getRandomInt(0,r);return s.name=t.names[n],s.suit=t.suits[a],s.id=s.name+"-"+s.suit,s},generateDeck:function(t){"use strict";for(var s=0,e=[],r={};s<t;){for(r=this.generateCard(this.cards);this.checkDupCard(e,r.id);)r=this.generateCard(this.cards);e.push(r),s+=1}return e},generateHand:function(t,s){"use strict";var e=[],r=t.length-1,n=0,a={};for(s<1||s>r+1?s=5:s-=1;n<=s;){for(a=t[this.getRandomInt(0,r)];this.checkDupCard(e,a.id);)a=t[this.getRandomInt(0,r)];e.push(a),n+=1}return e},getFormInput:function(t){"use strict";for(var s=t.split("&"),e={numberOfCards:null},r=0,n=s.length,a=null;r<n;)a=s[r].split("="),e.numberOfCards=a[1],r+=1;return e},renderFooter:function(t){"use strict";someCardsAppTargets.footerEl.innerHTML=t},renderCard:function(t,s,e,r){"use strict";var n=null,a=0,i=r.length,u=null,d=null;for(n=(n=(n=s.replace(/%name%/gi,e.name)).replace(/%suit%/gi,e.suit)).replace("%id%",e.id),t.innerHTML+=n;a<i;){if(r[a][0]===e.id){u=r[a][1];break}a+=1}return d=document.getElementById(e.id),d.style.backgroundPosition=u,!1},renderHand:function(t,s,e,r){"use strict";for(var n=e.length,a=0,i=null;a<n;)i=e[a],this.renderCard(t,s,i,r.cardBackgroundPos),a+=1;return!1},reset:function(t){"use strict";t.items.innerHTML="",t.status.style.visibility="visible"},init:function(){"use strict";if(this.deck=this.generateDeck(this.cards.deckSize),this.cards.cardBackgroundPos=this.generateBgPosIDs(this.deck),this.cards.cardBackgroundPos=this.generateBgPos(this.cards,this.deck),this.htmlTargets.noOfCardsIn.setAttribute("min","1"),this.htmlTargets.noOfCardsIn.setAttribute("max",this.cards.deckSize),this.renderFooter(this.params.ver),""!==window.location.search){var t=this.getFormInput(window.location.search.substr(1));this.currentHand=this.generateHand(this.deck,t.numberOfCards),null!==this.currentHand&&(this.htmlTargets.status.style.visibility="hidden"),this.renderHand(this.htmlTargets.items,this.htmlTemplates.card,this.currentHand,this.cards)}}};someCardsApp.init(),someCardsApp.htmlTargets.reset.addEventListener("click",function(){"use strict";someCardsApp.reset(someCardsApp.htmlTargets)},!1);