var someCardsApp={cards:{deckSize:52,names:["ace","2","3","4","5","6","7","8","9","10","jack","queen","king"],suits:["hearts","diamonds","clubs","spades"],cardBackgroundPos:[]},deck:null,currentHand:null,htmlTargets:{items:someCardsAppTargets.items,status:someCardsAppTargets.status,reset:someCardsAppTargets.reset,noOfCardsIn:someCardsAppTargets.noOfCardsIn},htmlTemplates:{card:someCardsAppTemplates.card},status:"no data",generateBgPosIDs:function(t){for(var e=0,s=t.length,r=[];e<s;)r.push([t[e].id,""]),e+=1},generateBgPos:function(t){for(var e=0,s=t.cardBackgroundPos.length,r=-5,n=-5,a="%x%px, %y%px",i=t.cardBackgroundPos;e<s;)a=(a=a.replace("%x%",r)).replace("%y%",n),i[e][1]=a,a="%x%px, %y%px",(r-=142)<-1709&&(r=-5,n-=190),e+=1;return i},getRandomInt:function(t,e){"use strict";return Math.floor(Math.random()*(Math.floor(e)-Math.ceil(t)+1))+Math.ceil(t)},checkDupCard:function(t,e){"use strict";for(var s=t.length,r=0,n=!1;r<s;){if(t[r].id===e){n=!0;break}r+=1}return n},generateCard:function(t){"use strict";var e={name:null,suit:null,id:null},s=t.names.length-1,r=t.suits.length-1,n=this.getRandomInt(0,s),a=this.getRandomInt(0,r);return e.name=t.names[n],e.suit=t.suits[a],e.id=e.name+e.suit,e},generateDeck:function(t){"use strict";for(var e=0,s=[],r={};e<t;){for(r=this.generateCard(this.cards);this.checkDupCard(s,r.id);)r=this.generateCard(this.cards);s.push(r),e+=1}return s},generateHand:function(t,e){"use strict";var s=[],r=t.length-1,n=0,a={};for(e<1||e>r+1?e=5:e-=1;n<=e;){for(a=t[this.getRandomInt(0,r)];this.checkDupCard(s,a.id);)a=t[this.getRandomInt(0,r)];s.push(a),n+=1}return s},getFormInput:function(t){"use strict";for(var e=t.split("&"),s={numberOfCards:null},r=0,n=e.length,a=null;r<n;)a=e[r].split("="),s.numberOfCards=a[1],r+=1;return s},renderCard:function(t,e,s,r){"use strict";var n=null,a=0,i=r.length,d=null,u=null;for(n=(n=(n=e.replace(/%name%/gi,s.name)).replace(/%suit%/gi,s.suit)).replace("%id%",s.id),t.innerHTML+=n;a<i;){if(r[a][0]===s.id){d=r[a][1];break}a+=1}return u=document.getElementById(s.id),u.style.backgroundPosition=d,!1},renderHand:function(t,e,s,r){"use strict";for(var n=s.length,a=0,i=null;a<n;)i=s[a],this.renderCard(t,e,i,r.cardBackgroundPos),a+=1;return!1},reset:function(t){"use strict";t.items.innerHTML="",t.status.style.visibility="visible"},init:function(){"use strict";if(this.deck=this.generateDeck(this.cards.deckSize),this.cards.cardBackgroundPos=this.generateBgPosIDs(this.deck),console.log(this.cards.cardBackgroundPos),this.htmlTargets.noOfCardsIn.setAttribute("min","1"),this.htmlTargets.noOfCardsIn.setAttribute("max",this.cards.deckSize),""!==window.location.search){var t=this.getFormInput(window.location.search.substr(1));this.currentHand=this.generateHand(this.deck,t.numberOfCards),null!==this.currentHand&&(this.htmlTargets.status.style.visibility="hidden"),this.renderHand(this.htmlTargets.items,this.htmlTemplates.card,this.currentHand,this.cards)}}};someCardsApp.init(),someCardsApp.htmlTargets.reset.addEventListener("click",function(){"use strict";someCardsApp.reset(someCardsApp.htmlTargets)},!1);